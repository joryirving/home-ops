# GitHub App Authentication Process

This document describes how to authenticate with GitHub using the App credentials available in the environment.

## Prerequisites

The following environment variables must be available:
- `GITHUB_APP_ID`: [App ID value hidden]
- `GITHUB_APP_INSTALLATION_ID`: [Installation ID value hidden]
- `GITHUB_APP_PRIVATE_KEY`: [RSA private key hidden, contains -----BEGIN RSA PRIVATE KEY----- ... -----END RSA PRIVATE KEY-----]

## Authentication Steps

### 1. Install Required Dependencies

```bash
pip3 install pyjwt requests cryptography --break-system-packages
```

### 2. Generate Access Token

The access token is generated by:
1. Creating a JWT token signed with the private key
2. Exchanging the JWT for an installation access token

### 3. Authenticate GitHub CLI

```bash
echo "$GH_TOKEN" | gh auth login --with-token
```

### 4. Clone Repository with Authentication

```bash
git clone https://x-access-token:$GH_TOKEN@github.com/username/repo.git
# Or for existing repo:
git remote set-url origin https://x-access-token:$GH_TOKEN@github.com/username/repo.git
```

### 5. Create Pull Requests

```bash
gh pr create --title "Title" --body "Description" --head branch-name --repo username/repo
```

## Important Notes

- The access token expires after 1 hour
- The token needs to be regenerated for long-running operations
- The token provides write access to repositories based on the GitHub App permissions