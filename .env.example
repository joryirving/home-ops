# =============================================================================
# Miso Chat - Environment Variables
# =============================================================================

# -------------------- Server Configuration --------------------

# Port to listen on (default: 3000)
# PORT=3000

# Node environment (default: development)
NODE_ENV=production

# -------------------- Gateway Configuration --------------------

# WebSocket URL to OpenClaw gateway (REQUIRED)
# Format: ws:// or wss://
GATEWAY_URL=ws://openclaw-gateway.llm:18789

# Gateway authentication token (optional but recommended)
# If your OpenClaw gateway requires auth, set this
# GATEWAY_AUTH_TOKEN=your-gateway-token

# -------------------- Authentication --------------------

# Session secret (REQUIRED - use a strong random string)
# Generate with: openssl rand -base64 32
SESSION_SECRET=change-this-to-a-random-secret-at-least-32-characters

# ----- Option 1: Local Authentication (default) -----
# Set OIDC_ENABLED=false (or omit) to use local auth
OIDC_ENABLED=false

# Local users (username:password, comma separated)
# Only used when OIDC_ENABLED=false
LOCAL_USERS=admin:password123

# ----- Option 2: OIDC Authentication -----
# Uncomment and configure to enable OIDC auth
# OIDC_ENABLED=true
# OIDC_ISSUER=https://authentik.yourdomain.com
# OIDC_CLIENT_ID=miso-chat
# OIDC_CLIENT_SECRET=your-client-secret
# OIDC_CALLBACK_URL=https://miso-chat.yourdomain.com/auth/oidc/callback

# -------------------- TLS/HTTPS --------------------

# TLS is disabled by default - run behind a reverse proxy (envoy, nginx, etc.)
# If you need TLS directly:

# TLS_KEY_PATH=/path/to/server.key
# TLS_CERT_PATH=/path/to/server.crt

# Or inline (not recommended - use files instead)
# TLS_KEY=-----BEGIN RSA PRIVATE KEY-----\n...
# TLS_CERT=-----BEGIN CERTIFICATE-----\n...

# -------------------- Security --------------------

# Enforce HTTPS redirect in production (default: true)
# ENFORCE_HTTPS=true

# Allowed origins for CORS (comma separated)
# ALLOWED_ORIGINS=https://miso-chat.yourdomain.com

# Allowed gateway domains (comma separated)
# ALLOWED_GATEWAY_DOMAINS=localhost,jory.dev,internal
